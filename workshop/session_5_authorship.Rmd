---
title: "Authorship Lists"
output: html_notebook
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# load required packages
library(tidyverse); library(collaborator);library(knitr)

# Load REDCap access
myproject_uri = "https://redcap.cir.ed.ac.uk/redcap_v8.4.5/API/"
myproject_api = "582D6629348CB3AED679BCADE20969DA"

```

Generating and formatting authorship lists for multi-centre research projects can be a challenging data wrangling task. In the case of collaborative research projects, there can be thousands of collaborators across hundreds of sites with a variety of roles.

The `report_auth()` function aims to simplify this process by providing an easy method to compile a fully formatted authorship list with inbuilt flexibility in how these are presented.

This requires input with authors as rows (already formatted as desired e.g. Smith S), with a column "name" and optional other columns that can be used group/subdivide the authorship list. You need to be comfortable wrangling data into that format.

**For example, here is an example dataset of randomly generated authors:**
```{r auth_data1}
data_author <- collaborator::example_report_author %>%
  dplyr::mutate(role = sample(1:3,nrow(.),replace=T),
                team = sample(1:4,nrow(.),replace=T)) %>%
  dplyr::mutate(role = factor(role,
                              levels=c(1:3),
                              labels = c("data collector", "hospital lead", "committee")),
                team = factor(team,
                              levels=c(1:4),
                              labels = c("upper GI", "HPB", "lower GI", "Hernia")))
```

```{r auth_data2, echo=TRUE}
data_author
```

## **Generation**

Using the dataset above (`author_data`), the `report_auth()` function, and instructions you find on the [vignette](https://github.com/kamclean/collaborator/blob/master/vignettes/vignette_authors.md) to generate an authorship list. 

Most inventive one that uses the `report_auth()` function and still works wins!

```{r auth_exercise, echo=TRUE}
# Try out different arguments to see how that affects the output 


```

## **Communication**
This produces the output you see above that can be copied / pasted into a document to be sent round via email (or for the final paper).

This could also be posted directly online so people can check whenever (whether on an online repository, or a [Shiny App]( https://starsurg.shinyapps.io/RECON_authorship/))

&nbsp;
